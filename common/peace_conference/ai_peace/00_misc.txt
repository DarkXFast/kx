# Scripted AI desire for peace actions.
# See documentation.info file for more detailed scripting information.

peace_ai_desires = {
	
	KX_take_states = {
		peace_action_type = { take_states }
		enable = {
			always = yes
		}
		ai_desire = 100
	}
	
	KX_disable_vanilla_ai_stuff = {
		peace_action_type = { liberate puppet force_government }
		enable = {
			always = yes
		}
		ai_desire = -1000
	}
	
	dont_take_non_neighboring_states_if_neighboring_one = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM.FROM.FROM = {
				rule_take_bordering_first = yes
			}
		}
		ai_desire = -1000
	}
	
	take_only_acceptable_states = {
		peace_action_type = { take_states }
		enable = {
			set_temp_variable = { global.eval_state = ROOT.FROM.FROM.FROM.id }
			ROOT = { is_willing_to_take_state_ROOT = no	}
		}
		ai_desire = -1000
	}
	
	prevent_non_warring_countries_from_taking_states = {
		peace_action_type = { take_states }
		enable = {
			ROOT = { NOT = { has_war_with = ROOT.FROM.FROM.FROM.owner } }
		}
		ai_desire = -1000
	}
	
	take_cores = {
		peace_action_type = { take_states }
		enable = {
			tag = FROM #take for self
			FROM.FROM.FROM = { is_core_of = ROOT }
		}
		ai_desire = 100
	}
	take_claims = {
		peace_action_type = { take_states }
		enable = {
			tag = FROM #take for self
			FROM.FROM.FROM = { is_claimed_by = ROOT }
		}
		ai_desire = 50
	}
	take_ambitions = {
		peace_action_type = { take_states }
		enable = {
			tag = FROM #take for self
			FROM.FROM.FROM = { is_ambition_area_of_ROOT = yes }
		}
		ai_desire = 25
	}
	
	restriction_puppet_overlord = {
		peace_action_type = { take_states }
		enable = {
			is_subject = yes
			overlord = {
				pc_is_on_winning_side = yes
				NOT = { tag = FROM }
			}
			ROOT.FROM.FROM.FROM = { is_claim_or_core_of_ROOT = no }
		}
		ai_desire = -125
	}

	restriction_not_faction_leader = {
		peace_action_type = { take_states }
		enable = {
			is_in_faction = yes
			is_faction_leader = no
			faction_leader = {
				pc_is_on_winning_side = yes
				NOT = { tag = FROM }
			}
			ROOT.FROM.FROM.FROM = { is_claim_or_core_of_ROOT = no }
		}
		ai_desire = -125
	}

	restriction_minor_country = {
		peace_action_type = { take_states }
		enable = {
			is_major = no
			ROOT.FROM.FROM.FROM = { is_claim_or_core_of_ROOT = no }
			any_other_country = {
				pc_is_on_winning_side = yes
				is_major = yes
				NOT = { tag = FROM }
				NOT = { has_war_with = ROOT }
			}
		}
		ai_desire = -125
	}

	restriction_stronger_minor_in_pc = {
		peace_action_type = { take_states }
		enable = {
			is_major = no
			ROOT.FROM.FROM.FROM = { is_claim_or_core_of_ROOT = no }
			any_other_country = {
				pc_is_on_winning_side = yes
				NOT = { tag = FROM }
				is_major = no
				is_subject = no
				NOT = { has_war_with = ROOT }
				OR = {
					strength_ratio = { tag = ROOT ratio > 1.5 }
					ic_ratio = { tag = ROOT ratio > 1.5 }
				}
			}
		}
		ai_desire = -125
	}

	lower_desire_for_non_connected = {
		peace_action_type = take_states
		enable = {
			ROOT.FROM.FROM.FROM = {
				is_coastal = no
				NOT = {
					any_neighbor_state = {
						OR = {
							is_owned_by = ROOT.FROM
							pc_is_state_claimed_by = ROOT.FROM
						}
					}
				}
			}
		}
		ai_desire = -40
	}

	higher_desire_for_connected = {
		peace_action_type = take_states
		enable = {
			ROOT.FROM.FROM.FROM = {
				OR = {
					is_coastal = yes
					any_neighbor_state = {
						OR = {
							is_owned_by = ROOT.FROM
							pc_is_state_claimed_by = ROOT.FROM
						}
					}
				}
			}
		}
		ai_desire = 40
	}
	### Special Countries ###
	
	GER_prioritize_taking_france = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = GER
				is_faction_leader = yes
			}
			ROOT.FROM.FROM.FROM = {
				OR = {
					region = 19 #Northern France
					region = 164 #Western France
				}
			}
		}
		ai_desire = 100
	}
	GER_prioritize_taking_southern_france = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = GER
				is_faction_leader = yes
			}
			ROOT.FROM.FROM.FROM = {
				region = 20
			}
		}
		ai_desire = 50
	}
	NFA_prioritize_taking_france = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = NFA
			}
			ROOT.FROM.FROM.FROM = {
				region = 20
			}
		}
		ai_desire = 100
	}
	NFA_prioritize_taking_northern_france = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = NFA
			}
			ROOT.FROM.FROM.FROM = {
				OR = {
					region = 19 #Northern France
					region = 164 #Western France
				}
			}
		}
		ai_desire = 50
	}
	CAN_prioritize_taking_uk = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = ENT
				is_faction_leader = yes
			}
			ROOT.FROM.FROM.FROM = {
				is_british_isles = yes
			}
		}
		ai_desire = 50
	}
	AUS_prioritize_taking_balkans = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = AUS
				is_faction_leader = yes
				is_actual_major = yes
			}
			ROOT.FROM.FROM.FROM = {
				OR = {
					region = 15 #Romania
					region = 24 #Southern Balkans
					region = 25 #Greece
					region = 26 #Bulgaria
					region = 143 #Northern Balkans
					region = 144 #Transylvania
					region = 223 #Aegean Sea
				}
			}
		}
		ai_desire = 50
	}
	CSA_prioritize_taking_north_in_acw = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = CSA
				USA = { is_in_peace_conference = yes }
				TEX = { is_in_peace_conference = yes }			
			}
			ROOT.FROM.FROM.FROM = {
				OR = {
					region = 186 #North-East
					region = 120 #Mid-West
					region = 185 #NorthWest
					region = 226 #Mid-Atlantic
					region = 228 #Great Plains
					region = 230 #Great Lakes
					region = 231 #Steel Belt
				}
			}
		}
		ai_desire = 50
	}
	TEX_prioritize_taking_everywhere_else = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = TEX
				USA = { is_in_peace_conference = yes }
				TEX = { is_in_peace_conference = yes }			
			}
			ROOT.FROM.FROM.FROM = {
				is_core_of = USA
				NOT = {
					state = 359 #New Jersey
					state = 360 #Philadelphia
					state = 361 #Maryland
					state = 975 #Pittsburgh
					region = 186 #New England
					region = 120 #Midwest
					region = 185 #Cascades
					region = 228 #Northern Rockies
					region = 230 #Great Lakes
				}
			}
		}
		ai_desire = 50
	}
	CAN_give_preference_to_certain_states_acw = {
		peace_action_type = { take_states }
		enable = {
			ROOT.FROM = { 
				tag = CAN
				OR = {
					USA = { at_conference_has_war_with_ROOT = yes }
					CSA = { at_conference_has_war_with_ROOT = yes }
					TEX = { at_conference_has_war_with_ROOT = yes }
				}	
			}
			ROOT.FROM.FROM.FROM = {
				OR = {
					region = 186 #New England
					region = 230 #Great Lakes
					state = 386 #Washington
				}
			}
		}
		ai_desire = 50
	}
	
	#############
	# Puppets
	#############
	
	puppets_dont_interfere_take_states = { #Puppets will focus on helping others most likely, or biidding on their own claims/cores
		peace_action_type = take_states
		enable = {
			is_subject = yes
			NOT = {
				OR = {
					ROOT.FROM.FROM.FROM = { is_claimed_by = ROOT.FROM }
					ROOT.FROM.FROM.FROM = { is_core_of = ROOT.FROM }
				}
			}
		}
		ai_desire = -200
	}
	
	
}
